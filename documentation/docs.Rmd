---
title: "Downloading Documentation"
author: Marcel Ramos
date: "`r format(Sys.time(), '%d %B, %Y')`"
output: html_document
---

## Downloading BRFSS Documentation

```{r}
devtools::install_github(renkun-ken/pipeR)
years <- seq(2011, 2013)
brfssURL <- paste0("http://www.cdc.gov/brfss/annual_data/", years, "/pdf/codebook", substr(years, 3, 4), "_llcp.pdf")
destFILES <- paste0("BRFSS", years, "doc.pdf")
if(.Platform$OS.type != "unix"){
setInternet2(use = TRUE) }
sapply(seq_along(brfssURL), FUN = function(myindex) { download.file(url = brfssURL[myindex], destfile = destFILES[myindex]) } )
```

```{r}
library(pipeR)
dataURL <- paste0("http://www.cdc.gov/brfss/annual_data/", years, "/files/LLCP20", substr(years, 3, 4), "XPT.ZIP")
dataFiles <- sapply(dataURL, strsplit, "/") %>>% lapply("[", 8) %>>% gsub(pattern = ".ZIP", replacement = ".XPT")
sapply(seq_along(dataURL), FUN = function(myindex) { download.file(url = dataURL[myindex], destfile = dataFiles[myindex]) } )
```